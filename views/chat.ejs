<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
		html, body {
			height: 100%;
			width: 100%;
			margin: 0;
			padding: 0
		}

		body {
			width: 100%;
			height: 100%;
			background: url('/iamges/bg2.jpg');
			background-repeat: no-repeat;
			background-size: 100% 100%
		}

		.container {
			width: 100%;
			display: flex
		}

		p {
			color: #3f839a
		}

		h1 {
			text-align: center;
			color: deepskyblue
		}

		.liebiaos {
			width: 50%;
			font-size: 30px;
			color: #99a731
		}

		.liebiaos ul {
			list-style: none
		}

		.tijiao {
			width: 60%
		}

		.ti_jiao {
			padding-top: 20%;
			padding-left: 50%
		}

</style>
</head>
<body>
		<h1>简易聊天室</h1>
		<p>欢迎<span id="yonghu"><%=yonghuming%></span>来到交流直播间</p>
		<div class="container"> 
			<div class="liebiaos">
				<ul class="liebiao">


				</ul>
			</div>

		<div class="tijiao">
		    <div class="ti_jiao"> 
				<input style="height: 30px;font-size: 30px;width: 250px;"type="text"id="neirong"/>
		        <input type="button"" value="送出骚话"id="fansong">
			</div>
		</div>

		</div>
<script type="text/javascript"src="/socket.io/socket.io.js"></script>
<script type="text/javascript"src="/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
var socket=io();

$("#fansong").click(function() {
	socket.emit("liaotian" {
		"neirong":$("#neirong").val(), "ren":$("#yonghu").html()
	}

	)
	$("#neirong").val("")
}

)


$("#neirong").keydown(function(e) {
	if(e.keyCode==13) {
		socket.emit("liaotian" {
			"neirong":$("#neirong").val(), "ren":$("#yonghu").html()
		}

		)
		$(this).val("")
	}

}

)
socket.on("liaotian", function(msg) {
	$(".liebiao").prepend("<li><b>"+msg.ren+":</b>"+msg.neirong+"</li>")
}

)
</script>
</body>
</html>
